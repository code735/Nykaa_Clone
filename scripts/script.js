var data = [
  //   makeup revolution / face / face primer
  {
    brand: "Makeup Revolution",
    category: "face",
    sub_category: "face primer",
    prodname: "Makeup Revolution Hot Shot Kombucha Kiss Primer",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/f/2/f200c585057566572804_1.jpg",
    str_price: "₹812",
    price: "₹750",
  },
  {
    brand: "Makeup Revolution",
    category: "face",
    sub_category: "face primer",
    prodname: "Revolution Relove Glow Fix Stick",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/0/4/04bcb845057566296502_-_1.jpg",
    str_price: "₹699",
    price: "₹629",
  },
  {
    brand: "Makeup Revolution",
    category: "face",
    sub_category: "face primer",
    prodname: "Makeup Revolution Pore Blur Primer",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/f/5/f5ef6f55057566076579_1.jpg",
    str_price: "₹850",
    price: "₹723",
  },
  {
    brand: "Makeup Revolution",
    category: "face",
    sub_category: "face primer",
    prodname: "Makeup Revolution Liquid Powder Make Up Serum",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/a/c/ac092e85057566430845_-_1.jpg",
    str_price: "₹1150",
    price: "₹1035",
  },
  {
    brand: "Makeup Revolution",
    category: "face",
    sub_category: "face primer",
    prodname: "Makeup Revolution Illuminating Prime & Fix Duo Gift Set",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/9/6/96a071c1531009-revolution-illuminatingprime-fixduo_1.jpg",
    str_price: "₹1550",
    price: "₹1473",
  },
  {
    brand: "Makeup Revolution",
    category: "face",
    sub_category: "face primer",
    prodname: "Makeup Revolution Hydrate Primer",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/c/1/c12ab845057566479165_-_1.jpg",
    str_price: "₹850",
    price: "₹723",
  },
  {
    brand: "Makeup Revolution",
    category: "face",
    sub_category: "face primer",
    prodname: "Revolution Relove Blur Fix Stick",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/0/0/004bb845057566479196_-_1.jpg",
    str_price: "₹699",
    price: "₹629",
  },
  {
    brand: "Makeup Revolution",
    category: "face",
    sub_category: "face primer",
    prodname: "Makeup Revolution Mattify Primer",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/0/8/08636f55057566076609_1.jpg",
    str_price: "₹850",
    price: "₹723",
  },
  {
    brand: "Makeup Revolution",
    category: "face",
    sub_category: "face primer",
    prodname: "Revolution Relove H2o Hydrate Primer",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/0/0/004bb845057566479196_-_1.jpg",
    str_price: "₹599",
    price: "₹569",
  },
  {
    brand: "Makeup Revolution",
    category: "face",
    sub_category: "face primer",
    prodname: "Makeup Revolution Prime Bright Brightening Primer",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/1/6/16be621makeu00000104_new_1.jpg",
    str_price: "₹1150",
    price: "₹1035",
  },
  {
    brand: "Makeup Revolution",
    category: "face",
    sub_category: "face primer",
    prodname: "Revolution Relove Pore Vanish Primer",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/0/0/004bb845057566479196_-_1.jpg",
    str_price: "₹599",
    price: "₹569",
  },
  {
    brand: "Makeup Revolution",
    category: "face",
    sub_category: "face primer",
    prodname: "Revolution Relove Super Matte Primer",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/8/e/8e80b845057566479189_-_1.jpg",
    str_price: "₹599",
    price: "₹569",
  },
  {
    brand: "Makeup Revolution",
    category: "face",
    sub_category: "face primer",
    prodname: "Makeup Revolution Rehab Retinol Rescue Primer",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/6/9/69f0c585057566442855_1.jpg",
    str_price: "₹950",
    price: "₹903",
  },
  {
    brand: "Makeup Revolution",
    category: "face",
    sub_category: "face primer",
    prodname: "Revolution Relove Power Fix Primer",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/4/7/4761b845057566479172_-_1.jpg",
    str_price: "₹599",
    price: "₹569",
  },
  {
    brand: "Makeup Revolution",
    category: "face",
    sub_category: "face primer",
    prodname: "Revolution Relove H2o Hydrate Fix Stick",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/1/d/1d15b845057566359870_-_1.jpg",
    str_price: "₹699",
    price: "₹629",
  },

  //   lakme / face / face primer
  {
    brand: "Lakme",
    category: "face",
    sub_category: "face primer",
    prodname: "Lakme Absolute Blur Perfect Makeup Primer",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/l/a/lakm_-absolute-blur-perfect-makeup-primer.jpg",
    str_price: "₹800",
    price: "₹480",
  },
  {
    brand: "Lakme",
    category: "face",
    sub_category: "face primer",
    prodname: "Lakme 9 to 5 Primer + Matte Powder Foundation Compact",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/0/2/02e3d0d8901030654886_h.jpg",
    str_price: "₹600",
    price: "₹360",
  },
  {
    brand: "Lakme",
    category: "face",
    sub_category: "face primer",
    prodname: "Lakme Absolute Blur Perfect Makeup Primer - Mini",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/2/4/24815_h-8901030790065.jpg",
    str_price: "₹299",
    price: "₹239",
  },
  {
    brand: "Lakme",
    category: "face",
    sub_category: "face primer",
    prodname: "Lakme Absolute Under Cover Gel Face Primer",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/2/4/24358_h-8901030725692_1.jpg",
    str_price: "₹800",
    price: "₹480",
  },
  {
    brand: "Lakme",
    category: "face",
    sub_category: "face primer",
    prodname: "Lakme Glow Gold Combo",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/f/1/f1b73e7LAKME00000473_1.jpg",
    str_price: "₹1475",
    price: "₹811",
  },
  {
    brand: "Lakme",
    category: "face",
    sub_category: "face primer",
    prodname: "Lakme Absolute Blur Perfect Makeup Primer + Insta Liner Eye ...",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/n/y/nylakmecom424.jpg",
    str_price: "₹940",
    price: "₹705",
  },
  {
    brand: "Lakme",
    category: "face",
    sub_category: "face primer",
    prodname: "Lakme Prime & Glow Combo",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/e/b/ebf5fa5LAKME00000440_1.jpg",
    str_price: "₹1450",
    price: "₹870",
  },
  {
    brand: "Lakme",
    category: "face",
    sub_category: "face primer",
    prodname: "Lakme Absolute Illuminating Blush Shimmer Brick - In Pink + ...",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/n/y/nylakmecom434_23895_23657_1.jpg",
    str_price: "₹1575",
    price: "₹1134",
  },
  {
    brand: "Lakme",
    category: "face",
    sub_category: "face primer",
    prodname: "Lakme Absolute Dew Serum Foundation + Primer",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/5/b/5b6a3beLAKME00000654.jpg",
    str_price: "₹1675",
    price: "₹1005",
  },
  {
    brand: "Lakme",
    category: "face",
    sub_category: "face primer",
    prodname: "Lakme Eyeconic Curling Mascara - Black + Absolute Blur Perfe...",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/9/8/989eb93nylakmecom437_old_1.jpg",
    str_price: "₹1275",
    price: "₹956",
  },
  {
    brand: "Lakme",
    category: "face",
    sub_category: "face primer",
    prodname: "Lakme Eyeconic Curling Mascara - Black + Absolute Blur Perfe...",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/9/8/989eb93nylakmecom437_old_1.jpg",
    str_price: "₹1275",
    price: "₹956",
  },
  {
    brand: "Lakme",
    category: "face",
    sub_category: "face primer",
    prodname: "Lakme Eyeconic Curling Mascara - Black + Absolute Blur Perfe...",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/9/8/989eb93nylakmecom437_old_1.jpg",
    str_price: "₹1275",
    price: "₹956",
  },
  {
    brand: "Lakme",
    category: "face",
    sub_category: "face primer",
    prodname: "Lakme Eyeconic Curling Mascara - Black + Absolute Blur Perfe...",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/9/8/989eb93nylakmecom437_old_1.jpg",
    str_price: "₹1275",
    price: "₹956",
  },
  {
    brand: "Lakme",
    category: "face",
    sub_category: "face primer",
    prodname: "Lakme Eyeconic Curling Mascara - Black + Absolute Blur Perfe...",
    img_url:
      "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/9/8/989eb93nylakmecom437_old_1.jpg",
    str_price: "₹1275",
    price: "₹956",
  },
];

// Show Carts Data
var cart = JSON.parse(localStorage.getItem("carts")) || [];
document.getElementById("cart_counter").textContent = cart.length;
var prodcheck = [];

product_display();
function product_display() {
  cart.map(function (elem) {
    if (prodcheck.includes(elem.prodname)) {
      document.getElementById(elem.prodname).textContent =
        "Qty: " + countQty(elem.prodname);
    } else {
      prodcheck.push(elem.prodname);
      var h6 = document.createElement("h6");
      h6.textContent = elem.prodname;
      var p = document.createElement("p");
      p.textContent = "Qty: " + countQty(elem.prodname);

      p.setAttribute("id", elem.prodname);

      document.getElementById("products_cart_list").append(h6, p);
    }
  });
}

// Count Quantity functionality
function countQty(productname) {
  var count = 0;
  cart.map(function (elem) {
    if (productname == elem.prodname) {
      count++;
    }
  });

  return count;
}

// remove duplicates

var clean = data.filter(
  (data, index, self) =>
    index ===
    self.findIndex(
      (t) => t.img_url === data.img_url && t.prodname === data.prodname
    )
);

localStorage.setItem("data", JSON.stringify(clean));

var brandData = JSON.parse(localStorage.getItem("data"));

console.log(data);

console.log(brandData);

var blink = document.getElementById("blink");
setInterval(function () {
  blink.style.opacity = blink.style.opacity == 0 ? 1 : 0;
}, 1000);

// Search Brand Funcionality

document
  .getElementById("input-brand")
  .addEventListener("keypress", function (event) {
    if (event.key === "Enter") {
      document.getElementById("display-brands").textContent = "";
      var brandname = document.getElementById("input-brand").value;
      document.getElementById("top-brands-heading").textContent =
        brandname + " products";
      brandData.map(function (elem) {
        if (brandname == elem.brand) {
          var li = document.createElement("li");
          var a = document.createElement("a");
          a.textContent = elem.prodname;

          li.append(a);

          document.getElementById("display-brands").append(li);
        }
      });
    }
  });

var popular_brand_names = [
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/2018/Brandslogo/FacesCanadaa.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/HeaderIcons/The-Face-Shop.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/2018/colorbar-logoforui.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/2018/Brandslogo/nyx_New.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/2018/Brandslogo/LOTUS-HERBALS.png",
  },
  { img_url: "https://adn-static2.nykaa.com/media/wysiwyg/2019/niveaa.png" },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/clinique.png",
  },
  {
    img_url: "https://adn-static2.nykaa.com/media/wysiwyg/2018/neutrogena.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/2020/BrandslogoMenubar/Estee-Lauder.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/mac.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/2019/Maybelline1211.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/lakme_mega_menu_header.png",
  },
];

document
  .getElementById("popular_brand")
  .addEventListener("mouseover", function () {
    let renderhere = document.getElementById("brand_render");
    renderhere.textContent = "";
    popular_brand_names.map(function (elem) {
      var img = document.createElement("img");
      img.setAttribute("src", elem.img_url);
      renderhere.append(img);
    });
  });

var luxe_brand_names = [
  {
    img_url: "https://images-static.naikaa.com/media/wysiwyg/2022/Foreo.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/HeaderIcons/The-Face-Shop.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/mac.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/2018/Brandslogo/nyx_New.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/charlotte-tilbury.png",
  },
  { img_url: "https://adn-static2.nykaa.com/media/wysiwyg/2019/niveaa.png" },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/clinique.png",
  },
  {
    img_url: "https://adn-static2.nykaa.com/media/wysiwyg/2018/neutrogena.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/murad.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/estee-lauder.png",
  },
  {
    img_url: "https://images-static.naikaa.com/media/wysiwyg/2022/pmd.png",
  },
  {
    img_url:
      "https://adn-static1.nykaa.com/media/wysiwyg/cms/beauty/menu/olaplex.png",
  },
];

render();

function render() {
  let renderhere = document.getElementById("brand_render");
  renderhere.textContent = "";
  luxe_brand_names.map(function (elem) {
    var img = document.createElement("img");
    img.setAttribute("src", elem.img_url);
    renderhere.append(img);
  });
}

document
  .getElementById("luxe_brand")
  .addEventListener("mouseover", function () {
    let renderhere = document.getElementById("brand_render");
    renderhere.textContent = "";
    luxe_brand_names.map(function (elem) {
      var img = document.createElement("img");
      img.setAttribute("src", elem.img_url);
      renderhere.append(img);
    });
  });

var only_nyka_names = [
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/nykaa-cosmetics.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/nykaa-cosmetics.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/nykaa-cosmetics.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/nykaa-cosmetics.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/nykaa-cosmetics.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/nykaa-cosmetics.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/nykaa-cosmetics.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/nykaa-cosmetics.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/nykaa-cosmetics.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/nykaa-cosmetics.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/nykaa-cosmetics.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/nykaa-cosmetics.png",
  },
];

document.getElementById("only_nyka").addEventListener("mouseover", function () {
  let renderhere = document.getElementById("brand_render");
  renderhere.textContent = "";

  only_nyka_names.map(function (elem) {
    var img = document.createElement("img");
    img.setAttribute("src", elem.img_url);
    renderhere.append(img);
  });
});

var new_launched_data = [
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/fable-mane.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/fable-mane.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/fable-mane.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/fable-mane.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/fable-mane.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/fable-mane.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/fable-mane.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/fable-mane.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/fable-mane.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/fable-mane.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/fable-mane.png",
  },
  {
    img_url:
      "https://adn-static2.nykaa.com/media/wysiwyg/cms/beauty/menu/fable-mane.png",
  },
];

document
  .getElementById("new_launched")
  .addEventListener("mouseover", function () {
    let renderhere = document.getElementById("brand_render");
    renderhere.textContent = "";

    new_launched_data.map(function (elem) {
      var img = document.createElement("img");
      img.setAttribute("src", elem.img_url);
      renderhere.append(img);
    });
  });

var bestseller_item = document.querySelectorAll(".bestseller_item");
var idx = 0;
brandData.map(function (elem) {
  var img = document.createElement("img");
  img.setAttribute("src", elem.img_url);
  bestseller_item[idx].append(img);

  var name = document.createElement("p");
  name.append(elem.prodname);
  bestseller_item[idx].append(name);

  var priceparent = document.createElement("div");
  priceparent.setAttribute("class", "bestseller_item_priceparent");

  var normalprice = document.createElement("p");
  normalprice.textContent = elem.price;

  var str_price = document.createElement("p");
  str_price.textContent = elem.str_price;
  str_price.style.textDecoration = "line-through";

  bestseller_item[idx].addEventListener("click", function () {
    var obj = {
      brand: elem.brand,
      category: elem.category,
      sub_category: elem.sub_category,
      prodname: elem.prodname,
      img_url: elem.img_url,
      str_price: elem.str_price,
      price: elem.price,
    };

    localStorage.setItem("prod_display", JSON.stringify(obj));
    window.open("pages/product.html");
  });

  priceparent.append(normalprice, str_price);
  bestseller_item[idx].append(priceparent);
  idx++;
});
