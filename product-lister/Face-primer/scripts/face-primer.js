
var data = [
    {
        brand: "Lakme",
        category: "face",
        sub_category: "face primer",
        Keywords: "FEATURED",
        prodname: "Lakme Absolute Blur Perfect Makeup Primer",

        img_url:
            "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/l/a/lakm_-absolute-blur-perfect-makeup-primer.jpg",
        str_price: "₹800",
        price: "₹480",
        extraOff: "Enjoy Free Gift",
    },
    {
        brand: "Lakme",
        category: "face",
        sub_category: "face primer",
        Keywords: "FEATURED\nBESTSELLER",
        prodname: "Lakme 9 to 5 Primer + Matte Powder Foundation Compact",
        img_url:
            "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/0/2/02e3d0d8901030654886_h.jpg",
        str_price: "₹600",
        price: "₹360",
        extraOff: "Get Free Product",
    },
    {
        brand: "Lakme",
        category: "face",
        sub_category: "face primer",
        Keywords: "BESTSELLER",
        prodname: "Lakme Absolute Blur Perfect Makeup Primer - Mini",
        img_url:
            "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/2/4/24815_h-8901030790065.jpg",
        str_price: "₹299",
        price: "₹239",
    },
    {
        brand: "Lakme",
        category: "face",
        sub_category: "face primer",
        Keywords: "FEATURED\nBESTSELLER",
        prodname: "Lakme Absolute Under Cover Gel Face Primer",
        img_url:
            "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/2/4/24358_h-8901030725692_1.jpg",
        str_price: "₹800",
        price: "₹480",
        extraOff: "Enjoy Free Gift",
    },
    {
        brand: "Lakme",
        category: "face",
        sub_category: "face primer",
        Keywords: "FEATURED\nBESTSELLER",
        prodname: "Lakme Glow Gold Combo",
        img_url:
            "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/f/1/f1b73e7LAKME00000473_1.jpg",
        str_price: "₹1475",
        price: "₹811",
    },
    {
        brand: "Lakme",
        category: "face",
        sub_category: "face primer",
        Keywords: "FEATURED",
        prodname: "Lakme Absolute Blur Perfect Makeup Primer + Insta Liner Eye ...",
        img_url:
            "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/n/y/nylakmecom424.jpg",
        str_price: "₹940",
        price: "₹705",
        extraOff: "Get Free Product",
    },
    {
        brand: "Lakme",
        category: "face",
        sub_category: "face primer",
        Keywords: "BESTSELLER",
        prodname: "Lakme Prime & Glow Combo",
        img_url:
            "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/e/b/ebf5fa5LAKME00000440_1.jpg",
        str_price: "₹1450",
        price: "₹870",
    },
    {
        brand: "Lakme",
        category: "face",
        sub_category: "face primer",
        Keywords: "FEATURED",
        prodname: "Lakme Absolute Illuminating Blush Shimmer Brick - In Pink + ...",
        img_url:
            "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/n/y/nylakmecom434_23895_23657_1.jpg",
        str_price: "₹1575",
        price: "₹1134",
        extraOff: "Get Free Product",
    },
    {
        brand: "Lakme",
        category: "face",
        sub_category: "face primer",
        Keywords: "FEATURED",
        prodname: "Lakme Absolute Dew Serum Foundation + Primer",
        img_url:
            "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/5/b/5b6a3beLAKME00000654.jpg",
        str_price: "₹1675",
        price: "₹1005",
    },
    {
        brand: "Lakme",
        category: "face",
        sub_category: "face primer",
        Keywords: "FEATURED",
        prodname: "Lakme Eyeconic Curling Mascara - Black + Absolute Blur Perfe...",
        img_url:
            "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/9/8/989eb93nylakmecom437_old_1.jpg",
        str_price: "₹1275",
        price: "₹956",
    },


    {
        prodname: "Lakme Absolute Blur Perfect Makeup Primer",
        img_url: "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/l/a/lakm_-absolute-blur-perfect-makeup-primer.jpg",
        Keywords: "FEATURED\nBESTSELLER",
        str_price: "₹800",
        price: "₹480",
        extraOff: "Enjoy Free Gift",
        brand: "Nykaa",
        category: "face",
        sub_category: "face primer"
    },
    {
        prodname: "Colorbar Perfect Match Primer",
        img_url: "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/2/c/2ce9017N_8904052428978_1.jpg",
        Keywords: "FEATURED\nBESTSELLER",
        str_price: "₹875",
        price: "₹613",
        extraOff: "Enjoy Free Gift",
        brand: "Nykaa",
        category: "face",
        sub_category: "face primer"
    },
    {
        prodname: "Nykaa Prep Me Up! Face Primer",
        img_url: "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/f/a/face-primer.jpg",
        Keywords: "FEATURED",
        str_price: "₹549",
        price: "₹412",
        extraOff: "Get Free Product",
        brand: "Nykaa",
        category: "face",
        sub_category: "face primer"
    },
    {
        prodname: "Insight Cosmetics 3 In 1 Long Lasting Primer",
        img_url: "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/9/7/971a3858904207502386_1.jpg",
        Keywords: "FEATURED\nBESTSELLER",
        str_price: "₹260",
        price: "₹221",
        extraOff: "Enjoy Free Gift",
        extraOff: "",
        brand: "Nykaa",
        category: "face",
        sub_category: "face primer"
    },
    {
        prodname: "Maybelline New York Fit Me Primer",
        img_url: "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/0/4/04217d6MAYBE00000025_1.jpg",
        Keywords: "FEATURED\nBESTSELLER",
        str_price: "₹599",
        price: "₹449",
        extraOff: "Get Free Product",
        brand: "Nykaa",
        category: "face",
        sub_category: "face primer"
    },

    {
        prodname: "Smashbox The Original Photo Finish Foundation Primer - Smoot...",
        img_url: "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/9/6/96db1d2SMASH00000158_1.jpg",
        Keywords: "",
        str_price: "1999",
        price: "₹1450",
        extraOff: "Enjoy Free Gift",
        brand: "Nykaa",
        category: "face",
        sub_category: "face primer"
    },

    {
        brand: "Lakme",
        prodname: "Lakme Absolute Blur Perfect Makeup Primer",
        img_url: "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/l/a/lakm_-absolute-blur-perfect-makeup-primer.jpg",
        price: "480",
        str_price: "800",
        category: "face",
        sub_category: "face primer"
    },
    {
        brand: "Lakme",
        prodname: "Lakme Absolute Blur Perfect Makeup Primer",
        img_url:
            "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/2/c/2ce9017N_8904052428978_1.jpg",
        price: "480",
        str_price: "800",
        category: "face",
        sub_category: "face primer"
    },
    {
        brand: "Lakme",
        prodname: "Lakme Absolute Blur Perfect Makeup Primer",
        img_url:
            "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/2/c/2ce9017N_8904052428978_1.jpg",
        price: "480",
        str_price: "800",
        category: "face",
        sub_category: "face primer"
    },
    {
        brand: "Lakme",
        prodname: "Lakme Absolute Blur Perfect Makeup Primer",
        img_url:
            "https://images-static.nykaa.com/media/catalog/product/tr:w-220,h-220,cm-pad_resize/2/c/2ce9017N_8904052428978_1.jpg",
        price: "480",
        str_price: "800",
        category: "face",
        sub_category: "face primer"
    },
];

// duplicate data removing functionality

var clean = data.filter(
    (data, index, self) =>
        index ===
        self.findIndex(
            (t) => t.img_url === data.img_url && t.prodname === data.prodname
        )
);

localStorage.setItem("data", JSON.stringify(clean));

var product_data = JSON.parse(localStorage.getItem("data"));

display_Products();

// document.querySelector(".cartBTNDIV").addEventListener("click", showBTN);
// function showBTN() {
//     var x = document.querySelector(".cart");
//     x.style.display = "none";
//     x.style.color = "blue";
// }

function display_Products() {
    product_data.map(function (elem) {
        var productcarddiv = document.createElement("div");
        productcarddiv.setAttribute('class', "cart-product-div-class");

        // keyword featured tag corner left div
        var keywordDiv = document.createElement("div");
        keywordDiv.setAttribute("id", "keyword-div-ID");

        var keywordUl = document.createElement("ul");
        keywordUl.setAttribute("id", "keyword-ul-ID");

        var keywordLi = document.createElement("li");
        keywordLi.setAttribute("id", "keyword-li-ID");

        keywordLi.textContent = elem.Keywords;

        // |-----| Apending
        keywordUl.append(keywordLi);
        keywordDiv.append(keywordUl);


        //keyword featured tag corner left div END <----->



        var image = document.createElement("img");
        image.setAttribute("src", elem.img_url);
        image.setAttribute("alt", elem.prodname)
        var namE = document.createElement("h5");
        namE.textContent = elem.prodname;
        var priceBox = document.createElement("div");
        priceBox.setAttribute("class", "price-Box-div-CLASS")

        var price1 = document.createElement("p");
        var MRP = document.createElement("p");
        var preDiscount = document.createElement("p");

        // preDiscount.textContent = 1;
        var disVar1 = elem.price;
        var disVar2 = elem.str_price;
        preDiscount.textContent = Math.round(100 - ((disVar1.replace('₹', '')) / disVar2.replace('₹', '') * 100)) + "%";
        // 100 - (disVar1.replace('₹', '') / disVar2.replace('₹', '') * 100);
        price1.textContent += "" + elem.price;
        MRP.textContent += "MRP: " + elem.str_price;

        var extraDiscount = document.createElement("p");
        var extraDiscountDiv = document.createElement("div");
        extraDiscountDiv.setAttribute("id", "extra-discount-div-ID")

        extraDiscount.textContent = elem.extraOff;

        extraDiscountDiv.append(extraDiscount);

        // Rating start

        //      <h2>Star Rating</h2>
        // <span class="fa fa-star checked"></span>
        // <span class="fa fa-star checked"></span>
        // <span class="fa fa-star checked"></span>
        // <span class="fa fa-star"></span>
        // <span class="fa fa-star"></span>

        var h2TagFor_Rate = document.createElement("h2");
        h2TagFor_Rate.setAttribute("class", "rating-box-h2-CLASS")
        var star1 = document.createElement("span");
        star1.setAttribute("class", "fa fa-star checked");
        var star2 = document.createElement("span");
        star2.setAttribute("class", "fa fa-star checked");
        var star3 = document.createElement("span");
        star3.setAttribute("class", "fa fa-star checked");
        var star4 = document.createElement("span");
        star4.setAttribute("class", "fa fa-star");
        var star5 = document.createElement("span");
        star5.setAttribute("class", "fa fa-star");

        // append all stars
        h2TagFor_Rate.append(star1, star2, star3, star4, star5)

        //rating end <------>


        var hoverCartSlide = document.createElement("div");
        hoverCartSlide.setAttribute("id", "hoverCartSlide-ID");

        var wishlist_button = document.createElement("button");
        wishlist_button.setAttribute("id", "wishlist-button-ID");

        var image_for_wishlist = document.createElement("img");
        image_for_wishlist.setAttribute("src", "https://lh3.googleusercontent.com/drive-viewer/AFDK6gPrOYtFM7-C2NztwjjdjAnDYq8gLLhv6ciZ9ElkfqO9mg8TJWfKTLiRJaplG_yceF39QJUyL3cwFVRlB0Ri1nktX5z7xA=w1960-h1810");
        wishlist_button.append(image_for_wishlist);

        var add_cart_BTN = document.createElement("button");
        add_cart_BTN.textContent = 'Add To Bag';
        add_cart_BTN.setAttribute("id", "add-to-cart-button-ID");



        add_cart_BTN.addEventListener("click", function () {
            addToCart(elem)
        });
        hoverCartSlide.append(wishlist_button, add_cart_BTN);

        priceBox.append(MRP, price1, preDiscount);
        productcarddiv.append(keywordDiv, image, namE, priceBox, extraDiscountDiv, h2TagFor_Rate, hoverCartSlide);
        document.querySelector("#products-grid-ID").append(productcarddiv);
    });



    var cartArr = JSON.parse(localStorage.getItem("carts")) || [];

    function addToCart(product) {

        console.log(product);

        cartArr.push(product);
        localStorage.setItem("carts", JSON.stringify(cartArr));


    }




}